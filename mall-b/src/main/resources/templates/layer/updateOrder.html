<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>套餐订单弹出层+钱包订单</title>
    <link rel="stylesheet" href="//layui.hcwl520.com.cn/layui-v2.4.5/css/layui.css?v=201811010202" media="all">
</head>
<body>

<form class="layui-form layui-form-pane" action="">
    <input type="text" id="id" value="" name="id" style="display: none">
    <div class="layui-form-item">
        <label class="layui-form-label">购买者id</label>
        <div class="layui-input-block">
            <input type="text" id="userId" name="userId" required  lay-verify="required" placeholder="请输入" autocomplete="off" disabled class="layui-input layui-disabled" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">订单id</label>
        <div class="layui-input-block">
            <input type="text" id="orderId" name="orderId" required  lay-verify="required" placeholder="请输入" autocomplete="off" disabled class="layui-input layui-disabled" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">商品ID</label>
        <div class="layui-input-block">
            <input type="text" id="orderCommodityId" name="orderCommodityId" lay-verify="required" placeholder="请输入" autocomplete="off" disabled class="layui-input layui-disabled" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">商品名称</label>
        <div class="layui-input-block">
            <input type="text" id="orderCommodityName" name="orderCommodityName"  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">商品类别</label>
        <div class="layui-input-block">
            <input type="text" id="orderCommodityType" name="orderCommodityType" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">订单名称</label>
        <div class="layui-input-block">
            <input type="text" id="orderName" name="orderName"  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">订单金额</label>
        <div class="layui-input-block">
            <input type="text" id="orderMoney" name="orderMoney"  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">商品数量</label>
        <div class="layui-input-block">
            <input type="text" id="orderNum" name="orderNum"  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">使用优惠劵</label>
        <div class="layui-input-block">
            <input type="text" id="userCoupon" name="userCoupon"  placeholder="" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">订单期限</label>
        <div class="layui-input-block">
            <input type="text" id="orderTerm" name="orderTerm" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">开始时间</label>
        <div class="layui-input-block">
            <input type="text" id="orderStartTime" name="orderStartTime" placeholder="" disabled autocomplete="off" class="layui-input layui-disabled" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">结束时间</label>
        <div class="layui-input-block">
            <input type="text" id="orderStopTime" name="orderStopTime" placeholder="" autocomplete="off" disabled class="layui-input layui-disabled" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">订单状态</label>
        <div class="layui-input-block">
            <input type="text" id="orderState" name="orderState" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">名字</label>
        <div class="layui-input-block">
            <input type="text" id="name" name="name" placeholder="" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">联系手机</label>
        <div class="layui-input-block">
            <input type="text" id="phone" name="phone" placeholder="" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">联系邮箱</label>
        <div class="layui-input-block">
            <input type="text" id="email" name="email" placeholder="" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">维护费支付方式</label>
        <div class="layui-input-block">
            <input type="text" id="maintainPayType" name="maintainPayType" placeholder="" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">支付状态</label>
        <div class="layui-input-block">
            <input type="text" id="payStart" name="payStart"  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">物流信息</label>
        <div class="layui-input-block">
            <input type="text" id="expressNum" name="expressNum" placeholder="" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">收货地址</label>
        <div class="layui-inline">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input type="text" id="addressName" autocomplete="off" disabled class="layui-input layui-disabled">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">电话</label>
            <div class="layui-input-inline">
                <input type="text" id="addressPhone" autocomplete="off" disabled class="layui-input layui-disabled">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">地址</label>
            <div class="layui-input-inline">
                <input type="text" id="address" autocomplete="off" disabled class="layui-input layui-disabled">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">生成时间</label>
        <div class="layui-input-block">
            <input type="text" id="orderTime" name="orderTime" lay-verify="required" placeholder="" autocomplete="off" disabled class="layui-inputn layui-disabled" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">取消原因</label>
        <div class="layui-input-block">
            <input type="text" id="cancelReason" name="cancelReason" placeholder="" autocomplete="off" class="layui-input" value="">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>

<script src="https://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script>
<script src="//layui.hcwl520.com.cn/layui-v2.4.5/layui.js?v=201811010202"></script>
<script>
    layui.use('form',function () {
        var from = layui.form ;

        from.on('submit(formDemo)',function (res){
            console.log(res.field);
            $.ajax({
                url: '/order/order_admin_update',
                type: 'post',
                dataType: 'json',
                data: res.field,
                success: function (res) {
                    console.log(res);
                    if (res.state === 0){
                        layer.msg(res.msg);
                        layer.msg(res.msg);
                        var index = parent.layer.getFrameIndex(window.name);
                        window.parent.location.reload();
                        setTimeout(function(){parent.layer.close(index)}, 500);
                    }else {
                        layer.msg(res.msg)
                    }
                },
                error: function (res) {
                    alert(res);
                }
            });
            return false;
        })
    });

    function child(obj){
        $("#id").val(obj.id);
        $("#userId").val(obj.userId);
        $("#orderId").val(obj.orderId);
        $("#orderCommodityId").val(obj.orderCommodityId);
        $("#orderCommodityName").val(obj.orderCommodityName);
        $("#orderCommodityType").val(obj.orderCommodityType);
        $("#orderName").val(obj.orderName);
        $("#orderMoney").val(obj.orderMoney);
        $("#orderNum").val(obj.orderNum);
        $("#userCoupon").val(obj.userCoupon);
        $("#orderTerm").val(obj.orderTerm);
        $("#orderStartTime").val(obj.orderStartTime);
        $("#orderStopTime").val(obj.orderStopTime);
        $("#orderState").val(obj.orderState);
        $("#name").val(obj.name);
        $("#phone").val(obj.phone);
        $("#email").val(obj.email);
        $("#maintainPayType").val(obj.maintainPayType);
        $("#payStart").val(obj.payStart);
        $("#expressNum").val(obj.expressNum);
        if (obj.address != null) {
            $("#addressName").val(obj.address.name);
            $("#addressPhone").val(obj.address.phone);
            $("#address").val(obj.address.address);
        }
        $("#orderTime").val(obj.orderTime);
        $("#cancelReason").val(obj.cancelReason);
    }
</script>
</body>
</html>